<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AprovaFlow - Banco do Brasil</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <div class="container">
        
        <header class="dash-header">
            <div class="dash-info">
                <h2>üìä Status do Ciclo</h2>
                <div class="dash-metrics">
                    <div class="metric-card">
                        <span class="label">Horas Totais</span>
                        <strong id="lblHoras">--:--</strong>
                    </div>
                    <div class="metric-card highlight">
                        <span class="label">Mensagem</span>
                        <strong id="lblMensagem" style="font-size: 0.9em;">Carregando...</strong>
                    </div>
                </div>
            </div>
        </header>

        <main class="study-session">
            <div class="session-header">
                <h3>‚è±Ô∏è Registrar Estudo</h3>
                
                <div class="toggle-mode">
                    <button class="mode-btn active" onclick="mudarModo('timer')">Cron√¥metro</button>
                    <button class="mode-btn" onclick="mudarModo('manual')">Manual</button>
                </div>
            </div>

            <div id="mode-timer" class="input-mode">
                
                <div id="timer-setup">
                    <div class="form-group">
                        <label>O que vamos estudar agora?</label>
                        <select id="timer-materia" required onchange="carregarTopicos('timer')">
                            <option value="">Selecione a Mat√©ria...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <select id="timer-topico">
                            <option value="">(Opcional) Selecione o T√≥pico...</option>
                        </select>
                    </div>
                </div>

                <div class="timer-display">
                    <span id="display-horas">00</span>:<span id="display-minutos">00</span>:<span id="display-segundos">00</span>
                </div>
                
                <div class="timer-controls">
                    <button type="button" id="btnStart" class="btn-control play" onclick="iniciarCronometro()">
                        <span class="material-icons">play_arrow</span> Iniciar Estudo
                    </button>
                    
                    <button type="button" id="btnPause" class="btn-control pause" onclick="pausarCronometro()" style="display:none;">
                        <span class="material-icons">pause</span> Pausar
                    </button>
                </div>
                <p class="timer-status" id="statusTimer">Escolha a mat√©ria e d√™ o play!</p>

                <div id="timer-details" style="display: none; background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 20px; border: 1px solid #e0e0e0;">
                    <h4 style="margin-top:0; color: #555;">Detalhes da Sess√£o</h4>
                    
                    <div class="form-group">
                        <label>Tipo de Estudo</label>
                        <select id="timer-tipo">
                            <option value="Videoaula">V√≠deo Aula</option>
                            <option value="PDF">Leitura PDF</option>
                            <option value="Quest√µes">Quest√µes</option>
                            <option value="Revis√£o">Revis√£o</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Qtd. Feitas</label>
                            <input type="number" id="timer-qFeitas" min="0" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label>Qtd. Certas</label>
                            <input type="number" id="timer-qCertas" min="0" placeholder="0">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Anota√ß√µes</label>
                        <textarea id="timer-anotacoes" rows="2" placeholder="Ex: D√∫vida na lei tal..."></textarea>
                    </div>

                    <div class="timer-actions" style="display: flex; gap: 10px; margin-top: 15px;">
                        <button type="button" class="btn-cancel" onclick="cancelarCronometro()">
                            <span class="material-icons">delete</span> Descartar
                        </button>
                        <button type="button" class="btn-continue" onclick="continuarCronometro()">
                            <span class="material-icons">play_arrow</span> Continuar
                        </button>
                        <button type="button" class="btn-save-timer" onclick="salvarTimer()">
                            <span class="material-icons">save</span> Salvar
                        </button>
                    </div>
                </div>
            </div>

            <form id="formManual" onsubmit="salvarManual(event)" style="display: none;">
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Mat√©ria</label>
                        <select id="manual-materia" required onchange="carregarTopicos('manual')">
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Conte√∫do (T√≥pico)</label>
                    <select id="manual-topico">
                        <option value="">(Opcional)</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Data</label>
                        <input type="date" id="manual-data" required>
                    </div>
                    <div class="form-group">
                        <label>Hora In√≠cio</label>
                        <input type="time" id="manual-horaInicio" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Dura√ß√£o (HH:mm)</label>
                        <input type="time" id="manual-duracao" required>
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select id="manual-tipo" required>
                            <option value="Videoaula">V√≠deo Aula</option>
                            <option value="PDF">Leitura PDF</option>
                            <option value="Quest√µes">Quest√µes</option>
                            <option value="Revis√£o">Revis√£o</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Qtd. Feitas</label>
                        <input type="number" id="manual-qFeitas" min="0" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>Qtd. Certas</label>
                        <input type="number" id="manual-qCertas" min="0" placeholder="0">
                    </div>
                </div>

                <div class="form-group">
                    <label>Anota√ß√µes</label>
                    <textarea id="manual-anotacoes" rows="2" placeholder="Observa√ß√µes..."></textarea>
                </div>

                <button type="submit" class="btn-save">
                    <span class="material-icons">save</span> Salvar Registro Manual
                </button>
            </form>

        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>